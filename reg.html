<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>Áî®Êà∑Ê≥®ÂÜå</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: '#4CAF50',
                    secondary: '#8D6E63',
                    accent: '#FFD700',
                    light: '#F5F5DC',
                    dark: '#5D4037'
                },
                fontFamily: {
                    rustic: ['"Comic Sans MS"', 'cursive', 'sans-serif'],
                },
            }
        }
    }
</script>
<style type="text/tailwindcss">
    @layer utilities {
        .content-auto {
            content-visibility: auto;
        }
        .field-shadow {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .btn-hover {
            @apply transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
        }
        .bg-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .form-transition {
            @apply transition-all duration-300 ease-in-out;
        }
    }
</style>
</head>
<body class="min-h-screen bg-light bg-pattern font-rustic">
    <div class="container mx-auto px-4 py-24 relative z-10">
        <div class="max-w-md mx-auto bg-white rounded-2xl shadow-xl overflow-hidden relative">
            <!-- È°∂ÈÉ® -->
            <div class="bg-primary h-24 relative">
                <div class="absolute inset-0 bg-gradient-to-r from-primary/90 to-primary/70 flex items-center justify-center">
                    <h2 class="text-white text-2xl font-bold">Áî®Êà∑Ê≥®ÂÜå</h2>
                </div>
                <!-- Ë£ÖÈ•∞ÊÄßÊ§çÁâ©ÂÖÉÁ¥† -->
                <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg text-3xl select-none">
                    ü•¨
                </div>
            </div>
            <!-- Ë°®ÂçïÂå∫Âüü -->
            <div class="p-8 pt-16">
                <form id="regForm" class="space-y-6">
                    <div class="form-group form-transition">
                        <label for="username" class="block text-dark text-sm font-medium mb-2">
                            <i class="fa fa-user-circle mr-2 text-primary"></i>Áî®Êà∑Âêç
                        </label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fa fa-user text-gray-400"></i>
                            </div>
                            <input type="text" id="username" name="username" required
                                class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 field-shadow form-transition"
                                placeholder="ËØ∑ËæìÂÖ•Áî®Êà∑Âêç">
                        </div>
                    </div>
                    <div class="form-group form-transition">
                        <label for="password" class="block text-dark text-sm font-medium mb-2">
                            <i class="fa fa-lock mr-2 text-primary"></i>ÂØÜÁ†Å
                        </label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fa fa-lock text-gray-400"></i>
                            </div>
                            <input type="password" id="password" name="password" required
                                class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 field-shadow form-transition"
                                placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å">
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit"
                            class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg shadow-md btn-hover flex items-center justify-center">
                            <i class="fa fa-user-plus mr-2"></i>Ê≥®ÂÜå
                        </button>
                    </div>
                    <div class="flex items-center justify-between text-sm text-gray-600">
                        <a href="login.html" class="text-primary hover:text-primary/80 form-transition flex items-center">
                            <i class="fa fa-sign-in mr-1"></i> ËøîÂõûÁôªÂΩï
                        </a>
                    </div>
                    <div class="msg text-center text-red-500 mt-4" id="msg"></div>
                </form>
            </div>
            <div class="h-4 bg-gradient-to-r from-primary/30 to-primary/10 rounded-b-2xl"></div>
        </div>
        <!-- ÊµÆÂä®Ë£ÖÈ•∞ÂÖÉÁ¥† -->
        <div class="absolute top-1/4 left-10 w-12 h-12 bg-accent/20 rounded-full animate-pulse"></div>
        <div class="absolute bottom-1/3 right-10 w-8 h-8 bg-primary/20 rounded-full animate-pulse" style="animation-delay: 1s;"></div>
        <div class="absolute top-1/2 left-1/4 w-6 h-6 bg-secondary/20 rounded-full animate-pulse" style="animation-delay: 2s;"></div>
    </div>
<script>
    document.getElementById('regForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const msg = document.getElementById('msg');
        msg.textContent = '';
        msg.classList.remove('animate-bounce');
        fetch('http://127.0.0.1:5000/reg', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({username, password})
        })
        .then(res => {
            if (!res.ok) throw new Error('ÊúçÂä°Âô®ÂìçÂ∫îÈîôËØØ');
            return res.json();
        })
        .then(data => {
            if(data.k) {
                msg.style.color = "#43a047";
                msg.textContent = 'Ê≥®ÂÜåÊàêÂäüÔºåÊ≠£Âú®Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÁïåÈù¢...';
                // Êñ∞Â¢ûÊ≥®ÂÜåÊàêÂäüÊèêÁ§∫
                alert('Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑‰ΩøÁî®Êñ∞Ë¥¶Âè∑ÁôªÂΩï„ÄÇ');
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 1000);
            } else {
                msg.textContent = 'Ê≥®ÂÜåÂ§±Ë¥•ÔºåÁî®Êà∑ÂêçÂ∑≤Â≠òÂú®ÊàñÊï∞ÊçÆÊúâËØØ';
                msg.classList.add('animate-bounce');
            }
        })
        .catch(() => {
            msg.textContent = 'Êó†Ê≥ïËøûÊé•ÊúçÂä°Âô®ÔºåËØ∑Á®çÂêéÈáçËØï';
            msg.classList.add('animate-bounce');
        });
    });

    // Ë°®ÂçïÂÖÉÁ¥†Âä®Áîª
    const inputs = document.querySelectorAll('input');
    inputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.parentElement.classList.add('scale-[1.02]');
        });
        input.addEventListener('blur', function() {
            this.parentElement.parentElement.classList.remove('scale-[1.02]');
        });
    });
</script>
</body>
</html>